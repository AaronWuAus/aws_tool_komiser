{"ast":null,"code":"import _classCallCheck from \"/Users/mlabouardy/go/src/github.com/mlabouardy/komiser/dashboard/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";\nimport _createClass from \"/Users/mlabouardy/go/src/github.com/mlabouardy/komiser/dashboard/node_modules/@babel/runtime/helpers/esm/createClass.js\";\nimport { OvhService } from '../../ovh.service';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../../ovh.service\";\n\nfunction OvhLimitsComponent_div_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 2);\n    i0.ɵɵelementStart(1, \"div\", 3);\n    i0.ɵɵelementStart(2, \"div\", 4);\n    i0.ɵɵtext(3, \"Loading...\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction OvhLimitsComponent_div_3_tr_20_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tr\");\n    i0.ɵɵelementStart(1, \"td\");\n    i0.ɵɵelementStart(2, \"span\");\n    i0.ɵɵelement(3, \"img\", 12);\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"td\");\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"td\");\n    i0.ɵɵtext(8);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"td\");\n    i0.ɵɵtext(10);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    var limit_r3 = ctx.$implicit;\n    var ctx_r2 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"src\", ctx_r2.getFlagIcon(limit_r3.region), i0.ɵɵsanitizeUrl);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", limit_r3.region, \" \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate2(\"\", limit_r3.instance.usedInstances, \" / \", limit_r3.instance.maxInstances, \"\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate2(\"\", limit_r3.volume.usedGigabytes, \" / \", limit_r3.volume.maxGigabytes, \"\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(limit_r3.keypair.maxCount);\n  }\n}\n\nfunction OvhLimitsComponent_div_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 2);\n    i0.ɵɵelementStart(1, \"div\", 5);\n    i0.ɵɵelementStart(2, \"div\", 6);\n    i0.ɵɵelementStart(3, \"h4\", 7);\n    i0.ɵɵtext(4, \"Current limits\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"p\", 8);\n    i0.ɵɵtext(6, \"The resources for your cloud project are limited, so that you can control your resource consumption\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"div\", 9);\n    i0.ɵɵelementStart(8, \"table\", 10);\n    i0.ɵɵelementStart(9, \"thead\");\n    i0.ɵɵelementStart(10, \"tr\");\n    i0.ɵɵelementStart(11, \"th\");\n    i0.ɵɵtext(12, \"Region\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(13, \"th\");\n    i0.ɵɵtext(14, \"Instances\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(15, \"th\");\n    i0.ɵɵtext(16, \"Volumes\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(17, \"th\");\n    i0.ɵɵtext(18, \"SSH Keys\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(19, \"tbody\");\n    i0.ɵɵtemplate(20, OvhLimitsComponent_div_3_tr_20_Template, 11, 7, \"tr\", 11);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    var ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(20);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r1.limits);\n  }\n}\n\nexport var OvhLimitsComponent = /*#__PURE__*/(function () {\n  var OvhLimitsComponent = /*#__PURE__*/function () {\n    function OvhLimitsComponent(ovhService) {\n      var _this = this;\n\n      _classCallCheck(this, OvhLimitsComponent);\n\n      this.ovhService = ovhService;\n      this.limits = new Array();\n      this.loadingServiceLimits = true;\n      this.ovhService.getLimits().subscribe(function (data) {\n        _this.limits = data;\n        data.forEach(function (item) {\n          item.volume.usedGigabytes = _this.bytesToSizeWithUnit(item.volume.usedGigabytes * 1024 * 1024 * 1024);\n          item.volume.maxGigabytes = _this.bytesToSizeWithUnit(item.volume.maxGigabytes * 1024 * 1024 * 1024);\n        });\n        _this.loadingServiceLimits = false;\n      }, function (err) {\n        _this.loadingServiceLimits = false;\n        _this.limits = [];\n      });\n    }\n\n    _createClass(OvhLimitsComponent, [{\n      key: \"getFlagIcon\",\n      value: function getFlagIcon(region) {\n        switch (region) {\n          case 'SBG5':\n            return 'https://cdn.komiser.io/images/flags/france.png';\n\n          case 'BHS5':\n            return 'https://cdn.komiser.io/images/flags/canada.png';\n\n          case 'GRA5':\n            return 'https://cdn.komiser.io/images/flags/france.png';\n\n          case 'WAW1':\n            return 'https://cdn.komiser.io/images/flags/poland.png';\n\n          case 'DE1':\n            return 'https://cdn.komiser.io/images/flags/germany.png';\n\n          case 'UK1':\n            return 'https://cdn.komiser.io/images/flags/uk.png';\n\n          default:\n            return 'https://cdn.komiser.io/images/flags/france.png';\n        }\n      }\n    }, {\n      key: \"bytesToSizeWithUnit\",\n      value: function bytesToSizeWithUnit(bytes) {\n        var sizes = ['Bytes', 'KB', 'MB', 'GB', 'TB'];\n        if (bytes == 0) return '0 Byte';\n        var i = parseInt(Math.floor(Math.log(bytes) / Math.log(1024)).toString());\n        return Math.round(bytes / Math.pow(1024, i)) + ' ' + sizes[i];\n      }\n    }, {\n      key: \"ngOnInit\",\n      value: function ngOnInit() {}\n    }]);\n\n    return OvhLimitsComponent;\n  }();\n\n  OvhLimitsComponent.ɵfac = function OvhLimitsComponent_Factory(t) {\n    return new (t || OvhLimitsComponent)(i0.ɵɵdirectiveInject(i1.OvhService));\n  };\n\n  OvhLimitsComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: OvhLimitsComponent,\n    selectors: [[\"ovh-limits\"]],\n    decls: 4,\n    vars: 2,\n    consts: [[1, \"row\"], [\"class\", \"col-lg-12\", 4, \"ngIf\"], [1, \"col-lg-12\"], [1, \"text-center\", \"spinner\"], [1, \"loader\"], [1, \"card\"], [1, \"card-header\"], [1, \"card-title\"], [1, \"card-category\"], [1, \"card-body\"], [1, \"table\", \"table-head-bg\", \"table-striped\", \"table-hover\"], [4, \"ngFor\", \"ngForOf\"], [1, \"flag-icon\", 3, \"src\"]],\n    template: function OvhLimitsComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"section\");\n        i0.ɵɵelementStart(1, \"div\", 0);\n        i0.ɵɵtemplate(2, OvhLimitsComponent_div_2_Template, 4, 0, \"div\", 1);\n        i0.ɵɵtemplate(3, OvhLimitsComponent_div_3_Template, 21, 1, \"div\", 1);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n      }\n\n      if (rf & 2) {\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"ngIf\", ctx.loadingServiceLimits);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", !ctx.loadingServiceLimits);\n      }\n    },\n    styles: [\".flag-icon[_ngcontent-%COMP%]{width:25px;margin-right:10px}.gcp-logo[_ngcontent-%COMP%]{width:40px!important;padding-bottom:10px!important}.card-warning[_ngcontent-%COMP%]{background:#FBAD4B}.spinner[_ngcontent-%COMP%]{padding-top:200px}.card-success[_ngcontent-%COMP%]{background:#4BC0C0}.loader[_ngcontent-%COMP%]{color:#000;font-size:90px;text-indent:-9999em;overflow:hidden;width:1em;height:1em;border-radius:50%;margin:72px auto;position:relative;transform:translateZ(0);animation:load6 1.7s infinite ease,round 1.7s infinite ease}@keyframes load6{0%{box-shadow:0 -.83em 0 -.4em,0 -.83em 0 -.42em,0 -.83em 0 -.44em,0 -.83em 0 -.46em,0 -.83em 0 -.477em}5%,95%{box-shadow:0 -.83em 0 -.4em,0 -.83em 0 -.42em,0 -.83em 0 -.44em,0 -.83em 0 -.46em,0 -.83em 0 -.477em}10%,59%{box-shadow:0 -.83em 0 -.4em,-.087em -.825em 0 -.42em,-.173em -.812em 0 -.44em,-.256em -.789em 0 -.46em,-.297em -.775em 0 -.477em}20%{box-shadow:0 -.83em 0 -.4em,-.338em -.758em 0 -.42em,-.555em -.617em 0 -.44em,-.671em -.488em 0 -.46em,-.749em -.34em 0 -.477em}38%{box-shadow:0 -.83em 0 -.4em,-.377em -.74em 0 -.42em,-.645em -.522em 0 -.44em,-.775em -.297em 0 -.46em,-.82em -.09em 0 -.477em}to{box-shadow:0 -.83em 0 -.4em,0 -.83em 0 -.42em,0 -.83em 0 -.44em,0 -.83em 0 -.46em,0 -.83em 0 -.477em}}@keyframes round{0%{transform:rotate(0)}to{transform:rotate(360deg)}}\"]\n  });\n  return OvhLimitsComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}